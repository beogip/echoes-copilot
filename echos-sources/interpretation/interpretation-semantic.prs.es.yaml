- echo: üß† Eco de Interpretaci√≥n ‚Äì Modo Sem√°ntico
  id: interpretation-semantic
  mode: Semantic
  purpose: >-
    Comprender el significado profundo, simb√≥lico o impl√≠cito de un input, respetando el contexto emocional y relacional.
    Este eco permite detectar m√∫ltiples capas de sentido y transformar un mensaje ambiguo en una interpretaci√≥n clara y operativa.

  trigger: >-
    Cuando el input es simb√≥lico, ambiguo, emocional, po√©tico o existencial, y busca comprensi√≥n m√°s all√° de lo literal.
    Tambi√©n se activa cuando el usuario parece decir una cosa, pero desea otra, y se requiere "leer entre l√≠neas".

  config:
    retry_on_fail: true
    max_retries_per_step: 2

  steps:
    - name: Registro literal
      goal: >-
        Anotar literalmente lo que se dijo, sin interpretar a√∫n.
      validation:
        - ¬øSe transcribi√≥ textualmente el input original?
        - ¬øSe evit√≥ toda inferencia?
      expected_output: Input registrado sin modificaci√≥n

    - name: Escaneo del contexto
      goal: >-
        Observar el tono, entorno, relaci√≥n con el usuario y prop√≥sito potencial del input.
      validation:
        - ¬øSe identific√≥ tono (emocional, ir√≥nico, anal√≠tico)?
        - ¬øSe consider√≥ el estado conversacional y relaci√≥n previa?
      expected_output: Descripci√≥n breve del contexto y tono percibido

    - name: Lectura profunda (capas de sentido)
      goal: >-
        Detectar diferentes niveles de interpretaci√≥n posibles del input.
      validation:
        - ¬øSe identificaron al menos dos niveles (ej: literal + simb√≥lico)?
        - ¬øSe relacionaron con el contexto?
      expected_output: Lista o p√°rrafo con capas detectadas

    - name: Preguntas aclaratorias
      goal: >-
        Formular preguntas abiertas que ayuden a profundizar la interpretaci√≥n antes de proponer hip√≥tesis.
      validation:
        - ¬øSe formularon preguntas abiertas, no guiadas?
        - ¬øApuntan a descubrir intenci√≥n, contexto o emoci√≥n?
      expected_output: >-
        Una o dos preguntas que estimulen una nueva capa de interpretaci√≥n sin sugerir una respuesta.
      critical_instruction: >-
        No continuar al siguiente paso si hay informaci√≥n clave faltante.
        Validar activamente que el contexto est√© completo antes de avanzar.

    - name: Hip√≥tesis interpretativa
      goal: >-
        Proponer hasta dos interpretaciones posibles del input, diferenciadas y razonadas.
      validation:
        - ¬øSe propusieron dos hip√≥tesis con diferencias claras?
        - ¬øEst√°n basadas en el contexto y las capas anteriores?
      expected_output: Lista con hip√≥tesis interpretativas razonadas

    - name: Reflexi√≥n emp√°tica
      goal: >-
        Devolver la lectura con cuidado, permitiendo correcciones o ampliaciones del usuario.
      validation:
        - ¬øLa devoluci√≥n es respetuosa y no impositiva?
        - ¬øSe invita expl√≠citamente al usuario a validar o corregir?
      expected_output: Texto reflexivo con apertura a respuesta del usuario

    - name: Detecci√≥n de ambig√ºedad o contradicci√≥n interna
      goal: >-
        Observar si hay tensiones, dobles sentidos o capas que se contradicen entre s√≠.
      validation:
        - ¬øSe identific√≥ al menos una ambig√ºedad o tensi√≥n si exist√≠a?
        - ¬øSe describi√≥ con claridad sin resolverla por el usuario?
      expected_output: Descripci√≥n de ambig√ºedades o contradicciones

    - name: Propuesta abierta al usuario
      goal: >-
        Invitar al usuario a confirmar una interpretaci√≥n, reformular el mensaje o explorar m√°s.
      validation:
        - ¬øSe ofrecieron opciones sin forzar una decisi√≥n?
        - ¬øSe dio lugar a la reformulaci√≥n libre del usuario?
      expected_output: Nueva versi√≥n del input, validada o corregida por el usuario

  output_format: >-
    Reflexi√≥n estructurada con al menos dos capas de sentido (ej: literal + simb√≥lica),
    seguida de una reformulaci√≥n del input original seg√∫n la intenci√≥n profunda detectada.
    Este output debe ser validado por el usuario, y si es aprobado, ser√° procesado nuevamente por la IA como nuevo input base,
    permitiendo ejecutar con mayor precisi√≥n lo que el usuario realmente quiso expresar.

  notes: |-
    Este eco puede extenderse en ciclos si el usuario quiere seguir explorando capas de sentido.
    Es compatible con los ecos de Explicaci√≥n, Reflexi√≥n, Simulaci√≥n o Planificaci√≥n.
    Ideal para prompts ambiguos, storytelling, coaching o procesos de IA interpretativa avanzada.
