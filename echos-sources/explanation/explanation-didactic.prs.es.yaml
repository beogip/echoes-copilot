- echo: üìò Eco de Explicaci√≥n ‚Äì Modo Did√°ctico
  id: explanation-didactic
  mode: Didactic
  purpose: >-
    Descomponer un concepto complejo en partes simples, adaptadas al nivel del usuario, utilizando ejemplos y validaciones progresivas que aseguren la comprensi√≥n y permitan profundizar si se desea.

  trigger: >-
    Cuando el usuario expresa confusi√≥n, pide que se le aclare algo, dice ‚Äúno entiendo esto‚Äù, ‚Äúexplicamelo mejor‚Äù o ‚Äú¬øqu√© significa esto?‚Äù

  config:
    retry_on_fail: true
    max_retries_per_step: 2

  steps:
    - name: Detecci√≥n del concepto y del nivel del usuario
      goal: >-
        Identificar con precisi√≥n qu√© necesita ser explicado y cu√°l es el nivel actual del usuario.
      actions:
        - ask_user_questions:
            - ‚Äú¬øQu√© parte no te queda clara?‚Äù
            - ‚Äú¬øC√≥mo lo entend√©s hasta ahora?‚Äù
            - ‚Äú¬øQuer√©s una explicaci√≥n general o t√©cnica?‚Äù
        - fallback_if_level_unknown: Iniciar con explicaci√≥n b√°sica y avisar al usuario.
      critical_instruction: >-
        No continuar si no est√° claro el concepto. En caso de duda, comenzar por lo m√°s b√°sico.
      validation:
        - ¬øSe entendi√≥ qu√© tema necesita explicaci√≥n?
        - ¬øSe estim√≥ o pregunt√≥ el nivel del usuario?
      expected_output: Tema + nivel detectado o asumido con fallback

    - name: Divisi√≥n del concepto en partes progresivas
      goal: >-
        Organizar el concepto en fragmentos que progresen en complejidad y claridad.
      validation:
        - ¬øSe estructur√≥ la explicaci√≥n en pasos claros y secuenciales?
        - ¬øCada parte facilita la comprensi√≥n de la siguiente?
      expected_output: Lista de pasos explicativos progresivos

    - name: Analog√≠a o ejemplo aplicado al contexto del usuario
      goal: >-
        Introducir una met√°fora o caso real que conecte el concepto con la experiencia del usuario.
      validation:
        - ¬øLa comparaci√≥n est√° alineada al nivel y realidad del usuario?
        - ¬øRefuerza lo explicado previamente?
      expected_output: Analog√≠a o ejemplo relevante

    - name: Confirmaci√≥n de comprensi√≥n
      goal: >-
        Validar si el usuario entendi√≥ o si necesita que se reformule algo.
      validation:
        - ¬øEl usuario puede explicar el concepto con sus palabras o aplicarlo?
        - ¬øSe detectaron se√±ales de comprensi√≥n o confusi√≥n?
      expected_output: Feedback directo o reformulaci√≥n del usuario

    - name: Opci√≥n de profundizaci√≥n guiada
      goal: >-
        Ofrecer continuar con m√°s detalle, ejemplos alternativos o nuevas aplicaciones si el usuario lo desea.
      validation:
        - ¬øSe ofrecieron caminos claros para ampliar la explicaci√≥n?
        - ¬øSe respet√≥ si el usuario no quiso continuar?
      expected_output: Rama opcional con contenido ampliado

    - name: S√≠ntesis final del conocimiento adquirido
      goal: >-
        Devolverle al usuario una versi√≥n clara, resumida y validada de lo aprendido.
      validation:
        - ¬øLa s√≠ntesis representa fielmente lo que se explic√≥ y comprendi√≥?
        - ¬øEl usuario la valida como correcta?
      expected_output:
        resumen_final:
          concepto: [string]
          nivel_detectado: [inicial | medio | avanzado | inferido]
          resumen: [explicaci√≥n validada]
          validado_por_usuario: [true | false]
          opciones_futuras: [profundizar, aplicar, compartir]

  output_format: >-
    Explicaci√≥n progresiva con validaci√≥n por pasos, analog√≠a o ejemplo aplicado, s√≠ntesis final clara y opci√≥n de profundizaci√≥n guiada.

  notes: |-
    Este eco puede combinarse con Planificaci√≥n, Reflexi√≥n o Simulaci√≥n para ampliar el impacto de lo aprendido.
    Ideal para contextos educativos, asistencia t√©cnica, aprendizaje autodirigido o acompa√±amiento de IA pedag√≥gica.
